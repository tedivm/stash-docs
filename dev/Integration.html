<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>Integration &mdash; Stash 0.12.1 documentation</title>
    
    <link rel="stylesheet" href="_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.12.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Stash 0.12.1 documentation" href="index.html" />
    <link rel="next" title="Extending" href="Extending.html" />
    <link rel="prev" title="Drivers" href="Drivers.html" />
  
   

  </head>
  <body>
<nav class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="visible-md visible-lg navbar-text pull-right" id="github-stars">
      <iframe src="http://ghbtns.com/github-btn.html?user=tedivm&repo=stash&type=watch&count=true&size=small"
      allowtransparency="true" frameborder="0" scrolling="0" width="110px" height="20px"></iframe>
    </div>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#toggle-main-nav">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="
    
      index.html">Stash</a>
    </div>
    <div class="collapse navbar-collapse" id="toggle-main-nav">
      <ul class="nav navbar-nav">
          <li><a href="
      index.html">Home</a></li>
          <li><a href="https://github.com/tedivm/stash">Github</a></li>
            
              <li><a href="http://blog.tedivm.com">Blog</a></li>
            
        
      </ul>
    </div>
  </div>
</nav>


    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Extending.html" title="Extending"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Drivers.html" title="Drivers"
             accesskey="P">previous</a> |</li>
        <li><a href="Contents.html">Stash 0.12.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="container-wrapper">
        <div class="container-fluid">
            
    <div class="top-links">
      <ul class="breadcrumb pull-right">
        <li>
          <a href="Drivers.html" title="previous chapter (use the left arrow)">&larr; Drivers</a>
          <span class="divider"></span>
          
        </li>
          <li><a href="Extending.html" title="next chapter (use the right arrow)">Extending &rarr;</a></li>
      </ul>
    </div>
  
            <div class="row document clearer">
  <div class="col-md-3 sphinxsidebar">
    <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="
      index.html">
          <img class="logo" src="_static/tedivmGlider.png" alt="Logo"/>
        </a></p>
<div class="panel panel-default">
  <div class="panel-heading">
    <h3><a href="
    
      index.html">Table Of Contents</a></h3>
  </div>
  <div class="panel-body panel-toc panel-globaltoc">
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Stash</a></li>
<li class="toctree-l1"><a class="reference internal" href="Overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="Basics.html">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="Grouping.html">Groupings</a></li>
<li class="toctree-l1"><a class="reference internal" href="Invalidation.html">Invalidation</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="Drivers.html">Drivers</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Integration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#typehinting">Typehinting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#driverlist">DriverList</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#driver-wrapping">Driver Wrapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logging">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="#maintenance-actions">Maintenance Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#standards-compliance">Standards Compliance</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Extending.html">Extending</a></li>
<li class="toctree-l1"><a class="reference internal" href="AddingDrivers.html">Adding Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQ</a></li>
</ul>

  </div>
</div>
<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Search</h3>
  </div>
  <div class="panel-body">
    <form class="form-inline" action="search.html" method="get" role="form">
      <div class="input-group">
        <input name="q" type="text" class="form-control">
        <span class="input-group-btn">
          <button class="btn btn-default" type="button">Go</button>
        </span>
      </div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
    </div>
  </div>
                <div class="col-md-9 body">
                  
  <div class="section" id="integration">
<span id="id1"></span><h1>Integration<a class="headerlink" href="#integration" title="Permalink to this headline">¶</a></h1>
<p>Integrating Stash into a project consists of three components- Initializing the Drivers and Pool, making the subsequent
Pool available for consumption, and actually utilizing Stash to cache data.</p>
<p>The easiest way to integrate Stash is to use an existing framework that takes care of the Initialize and Availability
portions of integration- the TedivmStashBundle for Symfony is one example of this. This is by no means a requirement
though, and integrating Stash can be a rather straight forward process.</p>
<p>This page has general pointers that everyone should consider when working with Stash.</p>
<div class="section" id="typehinting">
<h2>Typehinting<a class="headerlink" href="#typehinting" title="Permalink to this headline">¶</a></h2>
<p>There will be times when Stash objects need to be passed around. A class may have a setCache($pool) function, for
example, and as a developer it makes sense to typehint for a Pool object. In instances like this it is important to
typehint against the supplied Interfaces themselves, rather than the specific classes, in order to facilitate
interoperability with code that extends Stash.</p>
<p>Interfaces are all in the Stash\Interfaces namespace and consist of-</p>
<ul class="simple">
<li>Stash\Interfaces\PoolInterface</li>
<li>Stash\Interfaces\ItemInterface</li>
<li>Stash\Interfaces\DriverInterface</li>
</ul>
</div>
<div class="section" id="driverlist">
<h2>DriverList<a class="headerlink" href="#driverlist" title="Permalink to this headline">¶</a></h2>
<p>The Stash\DriverList class contains static functions that ease integration.</p>
<ul class="simple">
<li><em>getAllDrivers()</em> - Returns an array of drivers and their respective classes.</li>
<li><em>getAvailableDrivers()</em> - Returns the above list, filtered by drivers that can run on the current system.</li>
<li><em>getDriverClass($name)</em> - Takes the shortname of a Driver and returns it's class name.</li>
<li><em>registerDriver($name, $classname)</em> - Registers new Drivers with the class.</li>
</ul>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>All Drivers have a &quot;setOptions&quot; function that takes in options as Key =&gt; Value pairs in an array. This makes converting
saved configurations (such as from an XML, YAML, or INI file) a fairly straight forward process of taking that &quot;options&quot;
sections and converting it to an array. Complete configuration options for each Driver are available for use on any
additional validation that developers may want to provide.</p>
</div>
<div class="section" id="driver-wrapping">
<h2>Driver Wrapping<a class="headerlink" href="#driver-wrapping" title="Permalink to this headline">¶</a></h2>
<p>There is almost never a reason not to use the Composite Driver to put the Ephemeral Driver in front of the primary
caching Driver. It reduces load on the caching system and increases performance by reducing duplicate requests. It also
helps normalize development as everything can be left the same except that the persistent drivers are left off.</p>
</div>
<div class="section" id="logging">
<h2>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h2>
<p>Stash supports logging through third party logging libraries such as monolog. It does this by following PSR-3, with the
Pool class utilizing the <a class="reference external" href="http://www.php-fig.org/psr/3/">PSR-3 LoggerAwareInterface</a>. PSR-3 compliant logging libraries
can be injected into the Pool class through the setLogger method.</p>
<p>Logging is a powerful feature to give system admins, as it gives them access to errors that occur in with the logging
system. Stash suppresses many types of errors to allow processes to continue as normal, making logging an important part
of integration.</p>
</div>
<div class="section" id="maintenance-actions">
<h2>Maintenance Actions<a class="headerlink" href="#maintenance-actions" title="Permalink to this headline">¶</a></h2>
<p>Some drivers require that maintenance action be performed regular. The FileSystem and SQLite drivers, as an example,
need to remove old data as they can't do it automatically. These operations are all abstracted away behind Pool-&gt;purge()
but will need to be called regularly by the integrating applications.</p>
<p>The Pool-&gt;purge() function should be called as a stand alone operation. Depending on the Driver being used this can take
longer than your typical action and should not be tied to a user request. It is also recommended that this be run from a
command line where possible, such as in an automated cron job, in order to improve performance.</p>
</div>
<div class="section" id="standards-compliance">
<h2>Standards Compliance<a class="headerlink" href="#standards-compliance" title="Permalink to this headline">¶</a></h2>
<p>Stash complies with <a class="reference external" href="http://www.php-fig.org/psr/0/">PSR-0</a>., <a class="reference external" href="http://www.php-fig.org/psr/1/">PSR-1</a>., <a class="reference external" href="http://www.php-fig.org/psr/2/">PSR-2</a>. and <a class="reference external" href="http://www.php-fig.org/psr/3/">PSR-3</a>. This makes integration with other
projects easier, as it shares a common defined code standard, follows naming scemes which allow for shared autoloaders,
and opens itself up to integration with other libraries.</p>
</div>
</div>


                </div>
              <div class="clearfix"></div>
            </div>
            
    <div class="footer-links">
      <ul class="breadcrumb pull-right">
        <li>
          <a href="Drivers.html" title="previous chapter (use the left arrow)">&larr; Drivers</a>
          <span class="divider"></span>
          
        </li>
          <li><a href="Extending.html" title="next chapter (use the right arrow)">Extending &rarr;</a></li>
      </ul>
    </div>
  

        </div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Extending.html" title="Extending"
             >next</a> |</li>
        <li class="right" >
          <a href="Drivers.html" title="Drivers"
             >previous</a> |</li>
        <li><a href="Contents.html">Stash 0.12.1 documentation</a> &raquo;</li> 
      </ul>
    </div>

  <script type="text/javascript" src="_static/js/bootstrap.js"></script>
  <div class="footer container">
    &copy; Copyright 2014, Robert Hafner. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-29779027-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>